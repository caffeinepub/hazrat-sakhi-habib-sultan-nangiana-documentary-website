{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Hazrat Sakhi Habib Sultan Nangiana — Premium Islamic Documentary Single-Page Site",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Build a fully responsive single-page documentary layout with emerald/gold archive aesthetic, geometric background pattern, premium typography, and accessible semantics.",
      "acceptanceCriteria": [
        "All sections render correctly on mobile, tablet, and desktop breakpoints with no horizontal scrolling.",
        "Site-wide color palette uses emerald/green backgrounds with royal-gold accents and dividers, with consistent typography hierarchy.",
        "Background includes subtle Islamic geometric pattern treatment that does not reduce text readability.",
        "Meets basic accessibility: semantic headings in order, sufficient contrast, focus-visible for interactive elements, alt text for images."
      ],
      "file_operations": [
        {
          "path": "frontend/src/App.tsx",
          "operation": "create",
          "description": "Create the single-page layout and section structure with semantic headings and responsive containers; apply emerald/gold theme, premium typography, and reading-focused max-widths."
        },
        {
          "path": "frontend/src/index.css",
          "operation": "create",
          "description": "Add global theme tokens (emerald/gold), typography defaults (serif headings, readable body), geometric background pattern layering, focus-visible styling, and responsive baseline rules."
        },
        {
          "path": "frontend/tailwind.config.js",
          "operation": "modify",
          "description": "Extend Tailwind theme with site-specific color tokens and typography-friendly defaults (e.g., serif heading font family and gold accent utilities) to support the archive aesthetic."
        },
        {
          "path": "frontend/public/assets/generated/islamic-pattern-bg.dim_2400x1350.png",
          "operation": "create",
          "description": "Add the generated Islamic geometric repeating background pattern asset and wire it into global styling (e.g., via CSS background layers) for subtle, readable treatment."
        }
      ]
    },
    {
      "id": "REQ-2",
      "summary": "Implement sticky navigation with section anchors and an animated scroll progress indicator with active-section indication.",
      "acceptanceCriteria": [
        "Navbar remains visible at the top while scrolling and highlights/indicates the active section.",
        "Scroll progress indicator updates smoothly from 0% to 100% as the user scrolls."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/StickyNav.tsx",
          "operation": "create",
          "description": "Create a sticky navbar with anchor links for Hero, Documentary, Timeline, Reflection, Shrine & Legacy, Storytelling, Gallery, and Contact; include active-section indication. Use shadcn-ui Button for nav actions where appropriate. Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/hooks/useScrollProgress.ts",
          "operation": "create",
          "description": "Add a hook to compute scroll progress (0–100%) and provide a smooth value for the progress indicator."
        },
        {
          "path": "frontend/src/hooks/useActiveSection.ts",
          "operation": "create",
          "description": "Add an IntersectionObserver-based hook to determine the current active section id for navbar highlighting."
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Wire StickyNav into the top-level layout; define section ids/anchors matching the required names and ensure smooth scrolling behavior."
        }
      ]
    },
    {
      "id": "REQ-3",
      "summary": "Create a cinematic hero with exact title/subtitle, soft blurred shrine-style background, and a “Read Documentary” CTA that scrolls to Documentary.",
      "acceptanceCriteria": [
        "Hero contains the exact title/subtitle text and a visible CTA button with the exact label.",
        "Clicking “Read Documentary” scrolls smoothly to the Documentary section.",
        "Hero background is blurred/softened and remains readable for overlaid text across device sizes."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/sections/HeroSection.tsx",
          "operation": "create",
          "description": "Build the hero section with the exact title “Hazrat Sakhi Habib Sultan Nangiana” and subtitle “A Spiritual Light of Punjab”, using a soft blurred background image layer and an accessible CTA. Use shadcn-ui Button for the CTA. Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Place HeroSection at the top of the page and wire the “Read Documentary” CTA to smooth-scroll to the Documentary section anchor."
        },
        {
          "path": "frontend/public/assets/uploads/images (3).jpeg",
          "operation": "create",
          "description": "Add the provided image as a static asset for hero/section imagery while preserving aspect ratio and avoiding aggressive cropping."
        }
      ]
    },
    {
      "id": "REQ-4",
      "summary": "Add the main Documentary reading section with structured paragraphs, drop-cap on first paragraph, and long-form readability styling.",
      "acceptanceCriteria": [
        "Documentary section uses a readable max-width and typographic spacing suitable for long reading.",
        "First paragraph includes a drop-cap style first letter.",
        "Content includes the topics requested: life, role as Qazi, dedication to namaz and taleem, settlement near Kirana Hills in Dharema (Sargodha), and influence on the Nangiana community."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/sections/DocumentarySection.tsx",
          "operation": "create",
          "description": "Create the Documentary section with well-structured English paragraphs, a drop-cap first letter on the opening paragraph, and a reading-optimized layout (max-width, line-height, spacing)."
        },
        {
          "path": "frontend/src/index.css",
          "operation": "modify",
          "description": "Add drop-cap styling and long-form typography rules (including comfortable line length and spacing) to support documentary readability."
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Wire DocumentarySection into the correct position and ensure the section id matches the navbar anchor."
        }
      ]
    },
    {
      "id": "REQ-5",
      "summary": "Add a minimal premium timeline section with four discrete items matching the requested themes, responsive across breakpoints.",
      "acceptanceCriteria": [
        "Timeline is visually distinct and readable on mobile (stacked) and desktop (aligned), without clutter.",
        "Timeline includes the four requested themes as discrete items."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/sections/TimelineSection.tsx",
          "operation": "create",
          "description": "Implement a premium minimal timeline section with items for early life, spiritual journey, role as Islamic judge (Qazi), and dedication to adal (justice) and taqwa; ensure responsive stacked/aligned layouts."
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Wire TimelineSection into the page flow with the correct section anchor id for navigation."
        }
      ]
    },
    {
      "id": "REQ-6",
      "summary": "Create a respectful highlighted Spiritual Reflection module connecting the passing of his children (including Mitha Masoom) to sabr and tawakkul.",
      "acceptanceCriteria": [
        "Reflection box is visually emphasized (e.g., gold accent, soft glow, glass effect) while maintaining readability.",
        "Text explicitly mentions Mitha Masoom, sabr, and tawakkul in a respectful tone."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/sections/ReflectionSection.tsx",
          "operation": "create",
          "description": "Create a visually emphasized reflection module (glassmorphism with gold accent) that respectfully mentions Mitha Masoom and connects to sabr and tawakkul in English."
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Wire ReflectionSection into the page and ensure it has the correct anchor id for sticky navigation."
        }
      ]
    },
    {
      "id": "REQ-7",
      "summary": "Add Shrine & Legacy narrative with animated symbolic counters that animate on scroll into view and are clearly labeled.",
      "acceptanceCriteria": [
        "Section includes the requested shrine/legacy narrative and references Dharema, Sargodha.",
        "At least 2 counters animate when scrolled into view (e.g., count-up animation).",
        "Counters are clearly labeled (English labels) and do not imply verified statistics (use symbolic phrasing like “Generations Inspired” if numbers are illustrative)."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/sections/ShrineLegacySection.tsx",
          "operation": "create",
          "description": "Create the Shrine & Legacy section referencing Dharema, Sargodha and include at least two symbolic, clearly labeled count-up counters that animate when the section enters the viewport."
        },
        {
          "path": "frontend/src/hooks/useCountUpOnView.ts",
          "operation": "create",
          "description": "Add a prefers-reduced-motion-aware hook to animate count-up values when an element becomes visible (IntersectionObserver)."
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Wire ShrineLegacySection into the page and ensure its section id matches the navbar anchor."
        }
      ]
    },
    {
      "id": "REQ-8",
      "summary": "Implement the “Why We Are Nangiana” storytelling section as an animated premium card with required narrative points.",
      "acceptanceCriteria": [
        "Section title is exactly “Why We Are Nangiana”.",
        "Story content includes the three requested concepts: spiritual authority of words, Naang folklore comparison, and resulting clan name.",
        "Storytelling card uses subtle animation on scroll/hover and matches the site theme."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/sections/StorytellingSection.tsx",
          "operation": "create",
          "description": "Create the storytelling section with the exact title “Why We Are Nangiana”, covering spiritual authority of words, Naang (cobra) folklore comparison, and the clan name origin; present content as a premium animated card. Use shadcn-ui Card for the storytelling container. Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Wire StorytellingSection into the page flow with the correct anchor id for navigation."
        }
      ]
    },
    {
      "id": "REQ-9",
      "summary": "Add at least two elegant quote highlight cards with Islamic design accents and accessible presentation.",
      "acceptanceCriteria": [
        "At least 2 quote highlight cards are present and styled consistently with the theme.",
        "Cards are accessible (text selectable, adequate contrast, no essential information conveyed only by animation)."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/QuoteCards.tsx",
          "operation": "create",
          "description": "Create reusable quote highlight cards with gold accents, geometric motif treatment, subtle glow, and selectable English text. Use shadcn-ui Card for consistent premium styling. Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/components/sections/DocumentarySection.tsx",
          "operation": "modify",
          "description": "Embed at least two QuoteCards instances near relevant reading content to emphasize key lines while maintaining respectful tone and accessibility."
        }
      ]
    },
    {
      "id": "REQ-10",
      "summary": "Implement a Gallery section using the 3 provided images with a smooth, keyboard-accessible lightbox (open/next/prev/close) and focus handling.",
      "acceptanceCriteria": [
        "Gallery displays thumbnails/previews for all provided images: images (5).jpeg, images (4).jpeg, images (3).jpeg.",
        "Clicking an image opens a lightbox with close control and next/prev navigation.",
        "Lightbox supports keyboard navigation (Esc to close; arrow keys optional) and traps focus appropriately."
      ],
      "file_operations": [
        {
          "path": "frontend/public/assets/uploads/images (5).jpeg",
          "operation": "create",
          "description": "Add the provided image as a static asset for the gallery."
        },
        {
          "path": "frontend/public/assets/uploads/images (4).jpeg",
          "operation": "create",
          "description": "Add the provided image as a static asset for the gallery."
        },
        {
          "path": "frontend/public/assets/uploads/images (3).jpeg",
          "operation": "create",
          "description": "Ensure this provided image is available as a static asset for the gallery as well (shared with hero usage if applicable)."
        },
        {
          "path": "frontend/src/components/sections/GallerySection.tsx",
          "operation": "create",
          "description": "Create the Gallery section showing all three images with respectful previews and captions/context; implement lightbox UX. Use shadcn-ui Dialog for the lightbox/focus trap behavior and shadcn-ui Button for controls. Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Wire GallerySection into the page and ensure its anchor id matches the sticky navigation link."
        }
      ]
    },
    {
      "id": "REQ-11",
      "summary": "Add a visitor contact form with client validation, backend submission, and success/failure feedback states.",
      "acceptanceCriteria": [
        "Form includes Name and Message fields and a Submit button.",
        "Client validation prevents empty submissions and shows inline errors.",
        "On submit, data is stored via backend API and the UI shows a clear success state; failures show an error state without losing user input."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/sections/ContactSection.tsx",
          "operation": "create",
          "description": "Create a contact section containing Name and Message fields, client-side validation with inline errors, submit handling to the backend actor, and clear success/error states without losing input. Use shadcn-ui Input/Textarea/Button for accessible form controls. Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/hooks/useSubmitVisitorMessage.ts",
          "operation": "create",
          "description": "Add a React hook to submit visitor messages to the backend (using existing actor connectivity hooks) and expose loading/success/error state for the UI."
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Wire ContactSection into the page flow and ensure the anchor id matches the navbar (Contact)."
        }
      ]
    },
    {
      "id": "REQ-13",
      "summary": "Add modern animations (fade-in on scroll, subtle parallax, gold dividers, glassmorphism cards) respecting prefers-reduced-motion.",
      "acceptanceCriteria": [
        "Major sections animate in with a subtle fade/translate when entering viewport.",
        "Parallax is subtle and does not cause jank on mobile.",
        "If the user has prefers-reduced-motion enabled, animations are minimized/disabled."
      ],
      "file_operations": [
        {
          "path": "frontend/src/hooks/usePrefersReducedMotion.ts",
          "operation": "create",
          "description": "Add a hook to detect prefers-reduced-motion and expose a boolean to disable/minimize animations across the app."
        },
        {
          "path": "frontend/src/hooks/useParallax.ts",
          "operation": "create",
          "description": "Add a lightweight parallax hook for background layers that is disabled/reduced when prefers-reduced-motion is enabled and tuned to avoid mobile jank."
        },
        {
          "path": "frontend/src/components/AnimatedSection.tsx",
          "operation": "create",
          "description": "Create a wrapper component that applies fade/translate-in on viewport entry for major sections, respecting prefers-reduced-motion."
        },
        {
          "path": "frontend/src/index.css",
          "operation": "modify",
          "description": "Add CSS for section dividers (soft gold), glassmorphism card styling, and motion-reduction overrides under prefers-reduced-motion."
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Wrap major sections with AnimatedSection and apply subtle parallax to background layers where appropriate, ensuring motion is reduced when requested."
        }
      ]
    },
    {
      "id": "REQ-14",
      "summary": "Implement SEO essentials: title, meta description, Open Graph tags, semantic headings, and performance-friendly image loading.",
      "acceptanceCriteria": [
        "Document head includes a descriptive title and meta description referencing Hazrat Sakhi Habib Sultan Nangiana.",
        "Open Graph tags are present (og:title, og:description, og:image).",
        "Headings are semantic (single H1, structured H2/H3).",
        "Images are optimized for web display (reasonable sizes) and use lazy-loading where appropriate."
      ],
      "file_operations": [
        {
          "path": "frontend/index.html",
          "operation": "modify",
          "description": "Update document head with SEO title, meta description referencing Hazrat Sakhi Habib Sultan Nangiana, and Open Graph basics (og:title, og:description, og:image); ensure favicon link is present and keep performance-friendly defaults."
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Ensure semantic heading structure (single H1 in hero; H2/H3 for sections) and apply lazy-loading and appropriate alt text on images used in sections."
        }
      ]
    },
    {
      "id": "REQ-15",
      "summary": "Add and integrate an Islamic-style favicon.",
      "acceptanceCriteria": [
        "A favicon is present and appears in the browser tab.",
        "Favicon asset is included as a static file and referenced in the HTML head."
      ],
      "file_operations": [
        {
          "path": "frontend/public/assets/generated/favicon-islamic.dim_512x512.png",
          "operation": "create",
          "description": "Add the generated Islamic-style favicon asset as a static file for use in the HTML head."
        },
        {
          "path": "frontend/index.html",
          "operation": "modify",
          "description": "Reference the favicon at frontend/public/assets/generated/favicon-islamic.dim_512x512.png in the document head."
        }
      ]
    },
    {
      "id": "REQ-16",
      "summary": "Add an optional “Spiritual Mode” toggle that enables ambient background audio with explicit user interaction and session-persistent state.",
      "acceptanceCriteria": [
        "Toggle exists labeled “Spiritual Mode”.",
        "Audio does not autoplay; it starts only after the user toggles on.",
        "Audio starts muted by default and the user can unmute (or toggling on prompts unmute) without violating browser autoplay restrictions.",
        "Toggle persists for the session (at least) and reflects current state correctly."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/SpiritualModeToggle.tsx",
          "operation": "create",
          "description": "Create a “Spiritual Mode” toggle UI that controls an ambient audio element without autoplay; manage play/pause and muted-by-default behavior with clear state display. Use shadcn-ui Button (and optionally a Slider if available) for accessible controls. Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/hooks/useSessionState.ts",
          "operation": "create",
          "description": "Add a small hook to persist UI toggle state for the session using sessionStorage (used for Spiritual Mode state)."
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Wire SpiritualModeToggle into the sticky nav or header area (without adding new routes) and ensure the audio control is available and respectful."
        }
      ]
    },
    {
      "id": "REQ-17",
      "summary": "Use the provided uploaded images respectfully across hero/gallery/sections with alt text and optional captions, maintaining aspect ratio.",
      "acceptanceCriteria": [
        "All three uploaded images are included in the built site as static assets.",
        "Images include appropriate alt text and optional captions in English.",
        "Layouts do not distort images and maintain aspect ratio."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/Figure.tsx",
          "operation": "create",
          "description": "Create a reusable Figure component for respectful image presentation with optional English caption, consistent aspect ratio handling, and required alt text."
        },
        {
          "path": "frontend/src/components/sections/HeroSection.tsx",
          "operation": "modify",
          "description": "Use the provided images as hero/background/section imagery respectfully (no distortion), and supply appropriate alt text where images are content-bearing."
        },
        {
          "path": "frontend/src/components/sections/GallerySection.tsx",
          "operation": "modify",
          "description": "Add captions/context and alt text for images (5).jpeg, images (4).jpeg, images (3).jpeg; ensure previews and lightbox preserve aspect ratio without aggressive cropping."
        }
      ]
    },
    {
      "id": "REQ-18",
      "summary": "Ensure the frontend is cleanly structured, buildable, fast-loading, and fully mobile-friendly with no overflow/layout issues.",
      "acceptanceCriteria": [
        "App builds successfully without errors.",
        "App is deployable and returns a publicly accessible link from the platform’s deployment flow.",
        "No critical layout shifts or overflow issues on small screens."
      ],
      "file_operations": [
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Keep the app as a single-page structure with clear component organization, avoid layout overflow, and ensure mobile-first spacing and typography to minimize layout shifts."
        },
        {
          "path": "frontend/src/index.css",
          "operation": "modify",
          "description": "Add guardrails for overflow (e.g., safe wrappers), stable typography sizing across breakpoints, and performance-friendly global styles."
        }
      ]
    }
  ]
}